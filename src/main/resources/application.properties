# Server Configuration
server.port=8080

# Database Configuration
spring.datasource.url=jdbc:postgresql://localhost:5432/schema_registry
spring.datasource.username=schema_user
spring.datasource.password=schema_password
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate Configuration
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true
spring.jpa.properties.hibernate.default_schema=schema_registry

# Flyway Configuration
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
spring.flyway.validate-on-migrate=true
spring.flyway.locations=classpath:db/migration
spring.flyway.schemas=schema_registry

# Jackson Configuration
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.default-property-inclusion=non_null

# Logging Configuration
logging.level.ru.vegorov=DEBUG
logging.level.ru.vegorov.schemaregistry.service=DEBUG
logging.level.ru.vegorov.schemaregistry.controller=DEBUG
logging.level.ru.vegorov.schemaregistry.exception=WARN
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=INFO
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Application Logging Configuration
app.logging.business-operations.enabled=true
app.logging.business-operations.level=DEBUG
app.logging.requests.enabled=true
app.logging.requests.level=DEBUG
# Global setting for including request payloads in logs (default fallback)
# WARNING: Enabling may expose sensitive data in logs - use with caution in production
app.logging.requests.include-payload=true
# Per-controller payload logging overrides (takes precedence over global setting)
# Enable only for specific controllers to aid debugging without global exposure risk
app.logging.requests.include-payload.schema=true
app.logging.requests.include-payload.transformation=true
# Maximum length of request/response payloads to log (0 = unlimited)
app.logging.requests.payload-max-length=2048
# Performance-related logging settings
app.logging.performance.enabled=true
app.logging.performance.slow-threshold-ms=100

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized

# OpenAPI Configuration
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method

# Application Specific
app.name=Simple Schema Registry
app.version=1.0.0
